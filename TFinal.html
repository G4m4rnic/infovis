<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
<header>
        <h1>Entrega final - Modúlo 4</h1>      
    </header>    
    <nav>
 
    </nav>
    <section>      
        <article>
            <h3>Estudio sobre la calidad del sueño</h3>
            <p>La siguiente visualización es una representación del tiempo que dormi durante la semana</br>
      diferenciando entre sueño profundo y sueño liviano. Los datos se obtuvieron a través </br>
  de la aplicacion mifit en formato CSV.</p>      
        </article>      
    </section>
<section>
      <aside>
        <h3>Gráfico</h3>
        <p>El siguiente gráfico representa en el eje X los dias de la semana y en el eje Y la cantidad de minutos.</p>
    </aside>
 <div id="vis"></div>
      <script type="text/javascript">
      var yourVlSpec = {
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "data": { "values": [{"date":"2020-11-25","lastSyncTime":1606425117,"deepSleepTime":47,"shallowSleepTime":405,"wakeTime":452,"start":1606277760,"stop":1606304880},
{"date":"2020-11-26","lastSyncTime":1606500641,"deepSleepTime":72,"shallowSleepTime":386,"wakeTime":458,"start":1606363680,"stop":1606391160},
{"date":"2020-11-27","lastSyncTime":1606533242,"deepSleepTime":83,"shallowSleepTime":377,"wakeTime":460,"start":1606450080,"stop":1606477680},
{"date":"2020-11-28","lastSyncTime":1606623520,"deepSleepTime":80,"shallowSleepTime":264,"wakeTime":344,"start":1606550340,"stop":1606570980},
{"date":"2020-11-29","lastSyncTime":1606706040,"deepSleepTime":73,"shallowSleepTime":464,"wakeTime":537,"start":1606623720,"stop":1606655940},
{"date":"2020-11-30","lastSyncTime":1606792442,"deepSleepTime":100,"shallowSleepTime":353,"wakeTime":453,"start":1606709520,"stop":1606736700},
{"date":"2020-12-01","lastSyncTime":1606840171,"deepSleepTime":44,"shallowSleepTime":391,"wakeTime":435,"start":1606795620,"stop":1606822560}]},
  "encoding": {
    "x": {"timeUnit": "day", "field": "date","title":"Día de la semana"},
    "tooltip": [
      {"timeUnit": "day", "field": "date", "title":"Día de la semana"},
      {"field": "shallowSleepTime", "type": "quantitative","title":"Sueño liviano minutos"},
      {"field": "deepSleepTime", "type": "quantitative","title":"Sueño profundo minutos"}
    ]
  },
  "layer": [{
    "mark": {"type": "bar", "color": "blueviolet"},
    "encoding": {
      "y": {"field": "shallowSleepTime", "type": "quantitative", "title":""}
    }
  }, {
    "mark": {"type": "bar", "color": "darkblue"},
    "encoding": {
      "y": {"field": "deepSleepTime", "type": "quantitative","title":""}
    }
  }, {
    "mark": "rule",
    "selection": {
      "hover": {"type": "single", "on": "mouseover", "empty": "none"}
    },
    "encoding": {
         "color": {
      "field": "weather",
      "type": "nominal",
      "scale": {
        "domain": ["Sueño liviano", "Sueño profundo"],
        "range": ["#4d1a7f", "#00008b"]
      },
      "title": "Tipos de sueño"  
      }
    }
  }],
  "config": {"axisY": {"minExtent": 30}}
}
;
vegaEmbed('#vis', yourVlSpec);
    </script>
</body>